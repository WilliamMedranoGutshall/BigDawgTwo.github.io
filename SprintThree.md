## **Sprint Three: Databases**
### **Implement Create Read Update Delete functionality for job tasks with MongoDB No-SQL**

### Enhancements
The third enhancement started off with the program from enhancement two, which is a continuation of enhancement one. Enhancement one was to convert the final project from IT 145 into Python, which was an authentication system for zoo application. The user was given the opportunity to enter a username and password, and these credentials were matched against a file list. The passwords were stored and compared in MD5, message digest, hash form for more security. The user was limited to three failed logins before the program was exited, and if they authenticated correctly, they were given access to a file based on their role. Enhancement two was to harden the application against security risks, such as buffer overflow, by adding error handling and input limitations. I chose this project because it was one of my early projects and I thought is was a great opportunity to show the evolution of my programming skills and mastering of best practices and the SDLC, software development lifecycle. When I was reviewing my previous projects, this one also made the most sense for good use of a database. With the current format, the job duties are based solely on the job title and they are stored within the program. This doesn’t make very much sense since employees within a job category may have very different daily duties, especially when it comes to general labor. Job duties may rotate as well, which means that it makes more sense to have individualized job duties. This is where the database would make a huge advantage. The database can be used to store all the individualized job tasks and make them easily updatable and retrievable.

When approaching this enhancement, I had to decide which type of database that I would use, a relational database such as MySQL or a non-relational database such as MongoDB. With a relational database, the database has a predefined schema and are table based with columns and rows. Non-relational databases are document based and are based on key-value pairs and do not have a defined schema that each document is held to. No-SQL, non-relational databases, have the advantages of being highly scalable and available (GeeksforGeeks). The scalability is the advantage that was the deciding factor for me. Each person may have a different number of tasks, or there may be additional information that needs to be maintained on certain employees. For example, veterinarians have certifications and licenses that need to be maintained, so entries for these expiration dates may be added and used for reminders. The application is being ran through a Python script that manages the CRUD, create read update delete, functions for the database. Although the database can be accessed and managed manually, the intent behind the enhancement is to allow a non-programmer, such as a Human Resources rep, to be able to manage the employee data. I setup the initial database manually and then moved into the application to further manage it. This showcases my knowledge of NoSQL databasing, Python scripting, and the ability to connect to the NoSQL database through the scripting. Utilizing Codio for the virtual environment provided the ability to also prove my Linux and command line interface skill set because I ran the Python script and managed the application within the Linux virtual environment. 

This project started with the Python application from enhancement two and was copied into a python program within the Codio environment. I created a new section with four methods of code: read, update, delete, insert. The way I set it up provided maximum path flexibility as the job title of the authenticated employee determined which of the job title methods was called, which contained a sub-menu depending on the type of employee. This menu has various options that were job dependent. The zookeeper, labor staff, and veterinarian only have access to the read method and only for their own task list. The administrator has read access to both their own tasks as well as choosing to view the task of any other employee, and they have update access to update any of the tasks. The Human Resource Administrator has access to all the database management methods, so they also have the ability to insert and delete employee task records. This authorization level was configured based on the user’s job title and is thus hard coded into the application. This means that no one can gain unauthorized access without having access to the application code itself. The connection with the MongoDB database created in Codio was accomplished through the addition of Pymongo distribution. This enhancement gave the program much needed flexibility and made the application more useful to an end user.

### Reflection on work completed
I met all the requirements that I setout to accomplish; however, my plan has changed slightly from the original plan. My original plan was to use the No-SQL database to house and mange the authentication; however, as I looked at functionality, I believe the application was better served by using the database for managing tasks which would frequently change. Putting the authentication into a database that can be accessed by unauthorized people also creates a security risk. Hard coding the users and passwords into the application may seem like it is more difficult to manage, but I believe the security tradeoff makes it a good decision based on the tools that we are using to create these enhancements. My small change still meets all the requirements of the enhancement. My biggest issues were returning data. When I was working on the original plan, I was having difficulty returning just the user password without any of the other information. I had decided to try to work with MySQL instead. I manually built the database in Codio, copied the Python program over and tried to get them to connect. I tried all the examples that I could find on the web and tried to imitate the MongoDB connection that I was successfully creating in Codio. As I was brainstorming ideas to solve either of these, I realized that it made more sense to work with the job tasks. I still hadn’t solved the issue with returning just the information that I needed, so I still needed to solve this when I went back to the No-SQL database, which I was able to do. After completing the requirements, I went back to solve the MySQL issue which was a missing library needed to make the connection. This needs administrative rights to install so it would require convincing Codio to install it for me. Although I decided that this direction wasn't feasible, this was a great refresher on working with databases as my SQL classes was taken over 18 months ago, and I got a better understanding of how SQL database connects with script code. 
	  
I started with the read option since that was the one I was previously stuck on. My code would return the entire document, but when I tried to set the fields equal to ones or zeros, I ran into issues with error message or with returning just a pointer. I tried every combination of find and find_one commands I could think of using quotes and no quotes, using a query and not using a query, and changing up the command one item at a time and notating the results. I left the previous command in place with a comment to block it out. I worked through all the possibilities until I was able to return exactly what I needed. The next problem was the tasks were being returned in random order. The only way I could figure out how to solve this is to break them down into four different find commands with four different print statements, and performing the printing within the read method and not return the value back to the menu method for printing. I still ran into issues with faults because I had just changed copied the code and changed three of the 1’s to 0’s. For some reason, I was getting error messages, which were resolved by deleting the ones that were 0’s. Solving this issue was good practice in the various ways of limiting the find and find_one commands and how small changes affect the results. It helped sharpen my problem-solving skills and helped get me ready for more real-world situations where I may need to use information on the internet to help me debug code. Although it didn’t affect functionality, I didn’t like the data being returned in JSON, JavaScript Object Notation, because it included letters and symbols that wouldn’t make sense to an end user that wasn’t familiar with JSON. I tried multiple different methods that I researched on the web and finally was able to use a properly formatted dumps command to convert it over into plain text and make the output reflect what an end user expects to see. This project demonstrates that I have mastered the ability to manage databases and the link different programming medians, such as Python program to a MongoDB database. It's skills such as these that show that I am ready to handle real-world situations and be able to be value added to a company that is willing to give me an opportunity as a Junior Developer. 

References
GeeksforGeeks. Introduction to NoSQL. Retrieved from https://www.geeksforgeeks.org/introduction-to-nosql/	

### User Stories
- As a zoo administrator, I need to have the job tasks stored in a database so that they can be easily managed and individualized instead of being the same for every user type.
- As an administrator user, I need the additional ability to view any employees job tasks and update them.
- As a human resource administrator, I need the additional ability to add new employees to the job task database when an employee is hired, ability to delete employees when terminated, and the ability to view and update any user tasks documents.
- As a user, I would prefer that job tasks are displayed in clear text form for easier viewing

### **Instructions for testing application:**

- Click here to download [Python File](https://williammedranogutshall.github.io/BigDawg.github.io/ZooManagement.py) for sprint three.

- This application is designed to run as a script in an environment that is setup for MongoDB and Pymongo and is able to connect to the No-SQL database through a Python script, such as Codio. 

- There are five sample user names that can be viewed below the author comments and all three have an unhashed password of "abcd". If additional users are to be added, passwords must be in the hexadecimal form of a MD5 hash to work with the application.

- To run this application, a database by the name of BigDawgZoo and collection of ZooTasks must be setup, or the db=connection and collection=db lines at the beginning of the application must be changed to match the database and collection names desired. The application contains all of the functionality needed to insert new documents directly from the running script.

- Before running Python program, the command **../startMognod.sh** is required to connect to MongoDB in Codio


### **Video Demonstration of Code**

[![William Medrano Gutshall Code Review](https://williammedranogutshall.github.io/BigDawg.github.io/ZooManagement.JPG)](https://youtu.be/2vtQbFkaHus "WilliamMedranoGutshallSprintThree")
